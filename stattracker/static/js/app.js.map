{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/js/controllers/add-stat.js","src/js/controllers/detail-activity.js","src/js/controllers/edit-activity.js","src/js/controllers/home-activities.js","src/js/controllers/landing.js","src/js/controllers/new-activity.js","src/js/controllers/reistration.js","src/js/csrf.js","src/js/init.js","src/js/router.js","src/js/show.js","src/js/sorted-router.js"],"names":[],"mappings":"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","file":"app.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\nvar show = require('../show');\nvar getCookie = require('../csrf.js');\n\nrouter.route('activities/:id/stats', function (id) {\n\t\t\n\tshow('stats');\n\n\tvar csrftoken = getCookie('csrftoken');\n\n\t$('.main-content').on('submit', '.stat-form', function(e) {\n\t\te.preventDefault();\n\n\t\t$.ajax({\n\t\t\tbeforeSend: function (request)\n        {\n         request.setRequestHeader('X-CSRFToken', csrftoken);\n      \t},\n\t  \tmethod: \"POST\",\n\t  \turl: \"/api/stats/\",\n\t  \tdata: {\n\t  \t\tactivity: id,\n    \t\tvalue: $('.stat-input').val(),\n    \t\tstatistics_date: '1986-04-06'\n\t  \t}\n\t\t})\n\t  \t.done(function() {\n\t  \t\twindow.location.href=\"#/activities\";\n\t\t});\n\n\t})  \n\n\n});","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\nvar show = require('../show');\nvar getCookie = require('../csrf.js');\n\nrouter.route('activities/:id', function (id) {\n\n\tvar csrftoken = getCookie('csrftoken');\t\n\n\t$.ajax({\n\t  method: \"GET\",\n\t  url: \"/api/activities/\" + id \n\t})\n\t  .done(function(data) {\n\t    show('detail-template', { activity: data });\n\t});\n\n\tsetTimeout(function(){  \n\t$.ajax({\n\t  method: \"GET\",\n\t  url: \"/api/activities/\" + id + \"/stats/\"\n\t})\n\t  .done(function(data) {\n\t    data.forEach(function(i) {\n\t    \t$('.stats-container').append(i.value)   \t\n\t \t})    \n\t});\t\n\t}, 100);  \n\n\t$('.main-content').on('click', '.rmv-btn' , function() {\n\n\t\t$.ajax({\t\n\t\t\tbeforeSend: function (request) {\n        request.setRequestHeader('X-CSRFToken', csrftoken);\n      },\n\t\t\tmethod: \"DELETE\",\n\t\t\turl: \"/api/activities/\" + id \n\t\t}).done(function() {\n\t\t\twindow.location.href=\"#/activities\"\n\t\t})  \n\t});\n\n});","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\nvar show = require('../show');\nvar getCookie = require('../csrf.js');\n\nrouter.route('activities/:id/edit', function (id) {\n\t\n\tvar csrftoken = getCookie('csrftoken');\t\n\n\t$.ajax({\n\t  method: \"GET\",\n\t  url: \"/api/activities/\" + id \n\t})\n\t  .done(function(data) {\n\t    show('edit-template', { activity: data });\n\t});\n\n\t$('.main-content').on('submit', '.edit-record-form' , function (e) {\n\t\te.preventDefault();\n\n\n\t\t$.ajax({\n\t\t\tbeforeSend: function (request)\n            {\n             request.setRequestHeader('X-CSRFToken', csrftoken);\n            },\n\t\t  method: \"PUT\",\n\t\t  url: \"/api/activities/\" + id + \"/\",\n\t\t  data: {\n\t\t  \tid: id,\n\t\t  \tactivity_name: $('.edit-activity-field').val(),\n\t\t  \tdescription:\t$('.edit-description-field').val()\n\t\t  } \n\t\t})\n\t  \t.done(function(msg) {\n\t    \twindow.location.href=\"#/activities\"\n\t\t});\n\n\n\t});\n\n\n\n\n});","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\nvar show = require('../show');\n\nrouter.route('activities', function () {\n\t\n\t$.ajax({\n\t  method: \"GET\",\n\t  url: \"/api/activities/\"\n\t})\n\t  .done(function( data ) {\n\t    show('home', {activities: data})\n\t});\n\n});","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\nvar show = require('../show');\n\nrouter.route('', function () {\n\t\t\n\tshow('landing-page');\n\n});","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\nvar show = require('../show');\nvar show = require('../show');\nvar getCookie = require('../csrf.js')\n\nrouter.route('activities/new', function () {\n\tshow('new-template');\n\n\tvar csrftoken = getCookie('csrftoken');\t\n\n\t$('.new-record-form').on('submit', function (e) {\n\t\te.preventDefault();\n\n\t  $.ajax({\n\t  \tbeforeSend: function (request)\n            {\n             request.setRequestHeader('X-CSRFToken', csrftoken);\n            },\n\t\t  method: \"POST\",\n\t\t  url: \"/api/activities/\",\n\t\t  data: {\t \n\t\t  \t\t\t\t'activity_name': $('.activity-field').val(),\n\t\t  \t\t\t\t'description': $('.description-field').val() }\n\t\t})\n\t  \t.done(function() {\n\t    \twindow.location.href=\"#/activities\"\n  \t});\n\t\n\t});\n\n\n});","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\nvar show = require('../show');\nvar getCookie = require('../csrf.js');\n\nrouter.route('user', function () {\n\n\tvar csrftoken = getCookie('csrftoken');\t\n\n\tshow('registration');\n\n\t$('.registration-form').on('submit', function (e) {\n\t\te.preventDefault();\n\n\t  $.ajax({\n\t  \tbeforeSend: function (request)\n            {\n             request.setRequestHeader('X-CSRFToken', csrftoken);\n            },\n\t\t  method: \"POST\",\n\t\t  url: \"/api/users/\",\n\t\t  data: {\t \n\t\t  \t\t\t\t'username': $('.reg-username').val(),\n\t\t  \t\t\t\t'first_name': $('.reg-firstName').val(),\n\t\t  \t\t\t\t'last_name': $('.reg-lastName').val(),\n\t\t  \t\t\t\t'password': $('.password').val(),\n\t\t  \t\t\t}\n\t\t})\n\t  \t.done(function() {\n\t    \twindow.location.href=\"#/activities\"\n  \t});\n\t\n\t})\n\n\n\n});","var $ = require('jquery');\n\n\nfunction getCookie(name) {\n  var cookieValue = null;\n    if (document.cookie && document.cookie != '') {\n     var cookies = document.cookie.split(';');\n        for (var i = 0; i < cookies.length; i++) {\n            var cookie = $.trim(cookies[i]);\n            // Does this cookie string begin with the name we want?\n            if (cookie.substring(0, name.length + 1) == (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n\t\t}\n\nmodule.exports = getCookie;","'use strict';\n\n\nvar router = require('./router');\n\n// Require all of our controllers\n({\"controllers\":({\"add-stat\":require(\"./controllers/add-stat.js\"),\"detail-activity\":require(\"./controllers/detail-activity.js\"),\"edit-activity\":require(\"./controllers/edit-activity.js\"),\"home-activities\":require(\"./controllers/home-activities.js\"),\"landing\":require(\"./controllers/landing.js\"),\"new-activity\":require(\"./controllers/new-activity.js\"),\"reistration\":require(\"./controllers/reistration.js\")})});\n\n// Start the router\nrouter.init();","'use strict';\n\nvar SortedRouter = require('./sorted-router');\n\nmodule.exports = new SortedRouter();","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\n\nmodule.exports = function (templateName, model) {\n  var rawTemplate = views[templateName];\n  var templateFn = _.template(rawTemplate, { variable: 'm' });\n  var hydratedHTML = templateFn(model);\n  \n  $('.main-content').html(hydratedHTML);\n};","'use strict';\n \nvar Backbone = require('backbone');\nvar _ = require('underscore');\n \nvar SortedRouter = Backbone.Router.extend({\n  sortedRoutes: {},\n  \n  // Overwrite the Backbone.Router.route method so we can \n  // register routes in the correct order.\n  route: function () {\n    var len = arguments.length - 1,\n        callback = arguments[arguments.length - 1];\n \n    for (var i = 0; i < len; ++i) {\n      this.sortedRoutes[arguments[i]] = callback;\n    }\n  },\n  \n  init: function () {\n    // A magic number to force a route to be lowest specificity\n    // Number.MIN_VALUE didn't work...\n    var lowestRoute = -1000000;\n    var me = this;\n \n    // Register all routes, sorted by specificity\n    _.chain(_.pairs(this.sortedRoutes))\n      .sortBy(function (route) {\n        var url = route[0];\n \n        if (url.indexOf('*') >= 0) {\n          return lowestRoute;\n        } else {\n          return -url.split(':').length;\n        }\n      })\n      .each(function (route) {\n        Backbone.Router.prototype.route.apply(me, route);\n      });\n \n    // Start the backbone routing subsystem\n    Backbone.history.start();\n  }\n});\n \nmodule.exports = SortedRouter;"]}